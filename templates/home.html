{% extends 'base.html' %}
{% block content %}
<h1>Welcome and remember to Stay Worldly!</h1>

<div>
    <label>Recently saved cities by users:</label>
    <ul>
        {% if 'username' not in session %}
            {% for city in all_user_cities %}
            <li>{{city}}</li>
            {% endfor %}
        {% else %}
            {% for city in all_user_cities %}
            <li><a href="/city/{{city}}">{{city}}<img id="homePgCityImg" src="{{city.city_image}}"></a></li>
        {% endfor %}
        {% endif %}
    </ul>
</div>

<div>
    {% if 'username' not in session %}
    <p>Log in or register to find your next adventure!</p>
    {% else %}
    <form method="POST">
        <label>Find your next adventure: </label>
        {{ form.hidden_tag() }}

        {% for field in form if field.widget.input_type != 'hidden' %}
        {% for error in field.errors %}
          <span>{{ error }}</span>
        {% endfor %}
        {{field(placeholder=field.label.text)}}
        {% endfor %}
        <button>Submit</button>
    </form>

    <div>
        <ul>
            {% for city in cities %}
            <li><a href="/city/{{city[0]}}">{{city[0]}}</a></li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}